<layout>
  <div class="right_col" role="main">
    <div class="container">

      <ul class="nav nav-tabs mb-3" id="ex1" role="tablist">
        <li class="nav-item" role="presentation">
          <a class="nav-link active"
             id="ex1-tab-1"
             data-mdb-toggle="tab"
             routerLink="/customer/{{ customerId }}" routerLinkActive="active"
             role="tab"
             aria-controls="ex1-tabs-1"
             aria-selected="true">Customer</a>
        </li>
        <li class="nav-item" role="presentation">
          <a class="nav-link" [ngClass]="{ 'disabled': customerId==null }"
             id="ex1-tab-2"
             data-mdb-toggle="tab"
             routerLink="/contactlist/C/{{ customerId }}" routerLinkActive="active"
             role="tab"
             aria-controls="ex1-tabs-2"
             aria-selected="false">Contact</a>
        </li>
        <li class="nav-item" role="presentation">
          <a class="nav-link" [ngClass]="{ 'disabled': customerId==null }"
             id="ex1-tab-3"
             data-mdb-toggle="tab"
             routerLink="/customersitelist/{{ customerId }}" routerLinkActive="active"
             role="tab"
             aria-controls="ex1-tabs-3"
             aria-selected="false">Customer Site</a>
        </li>
      </ul>
      <div class="clearfix"></div>

      <div class="col-md-12 col-sm-12 ">
        <form [formGroup]="customerform" (ngSubmit)="onSubmit()">
          <div class="row">
            <div class="col-md-4 col-sm-4">
              <label for="custname">Name</label>
              <input type="text" formControlName="custname" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.custname.errors }" />
              <div *ngIf="submitted && f.custname.errors" class="invalid-feedback">
                <div *ngIf="f.custname.errors.required">Name is required</div>
              </div>
            </div>
            <div class="col-sm-4">
              <label for="defdistid">Default Distributor</label>
              <select formControlName="defdistid" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.defdistid.errors }">
                <!--<option value="0">--All--</option>-->
                <option *ngFor="let distributor of defaultdistributors" value={{distributor.id}}>
                  {{distributor.distname}}
                </option>
              </select>
              <div *ngIf="submitted && f.defdistid.errors" class="invalid-feedback">
                <div *ngIf="f.defdistid.errors.required">Default Distributor is required</div>
              </div>
            </div>

          </div>
          <br />
          <p><b>Address</b></p>
          <hr>
          <div formGroupName="address">
            <div class="row">
              <div class="col-sm-4">
                <label for="street">Street</label>
                <input type="text" formControlName="street" class="form-control" [ngClass]="{ 'is-invalid': submitted && a.get('street').errors }" />
                <div *ngIf="submitted && a.get('street').errors" class="invalid-feedback">
                  <div *ngIf="a.get('street').errors.required">Street is required</div>
                </div>
              </div>
              <div class="col-sm-4">
                <label for="area">Area</label>
                <input type="text" formControlName="area" class="form-control" [ngClass]="{ 'is-invalid': submitted && a.get('area').errors }" />
                <div *ngIf="submitted && a.get('area').errors" class="invalid-feedback">
                  <div *ngIf="a.get('area').errors.required">Area is required</div>
                </div>
              </div>
              <div class="col-sm-4">
                <label for="place">Place</label>
                <input type="text" formControlName="place" class="form-control" [ngClass]="{ 'is-invalid': submitted && a.get('place').errors }" />
                <div *ngIf="submitted && a.get('place').errors" class="invalid-feedback">
                  <div *ngIf="a.get('place').errors.required">Place is required</div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-4">
                <label for="city">City</label>
                <input type="text" formControlName="city" class="form-control" [ngClass]="{ 'is-invalid': submitted && a.get('city').errors }" />
                <div *ngIf="submitted && a.get('city').errors" class="invalid-feedback">
                  <div *ngIf="a.get('city').errors.required">City is required</div>
                </div>
              </div>
              <div class="col-sm-4">
                <label for="countryid">Country</label>
                <select formControlName="countryid" class="form-control" [ngClass]="{ 'is-invalid': submitted && a.get('countryid').errors }">
                  <!--<option value="0">--All--</option>-->
                  <option *ngFor="let country of countries" value={{country.id}}>
                    {{country.name}}
                  </option>
                </select>
                <div *ngIf="submitted && a.get('countryid').errors" class="invalid-feedback">
                  <div *ngIf="a.get('countryid').errors.required">Country is required</div>
                </div>
              </div>
              <div class="col-sm-4">
                <label for="zip">Zip</label>
                <input type="tel" maxlength="10" formControlName="zip" class="form-control" [ngClass]="{ 'is-invalid': submitted && a.get('zip').errors }" />
                <div *ngIf="submitted && a.get('zip').errors" class="invalid-feedback">
                  <div *ngIf="a.get('zip').errors.required">Zip is required</div>
                  <div *ngIf="a.get('zip').errors?.minlength">Min length is 4</div>
                  <div *ngIf="a.get('zip').errors?.maxlength">Max length is 15</div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-4">
                <label for="geolat">Latitude</label>
                <input type="text" formControlName="geolat" class="form-control" [ngClass]="{ 'is-invalid': submitted && a.get('geolat').errors }" />
                <div *ngIf="submitted && a.get('geolat').errors" class="invalid-feedback">
                  <div *ngIf="a.get('geolat').errors.required">Latitude is required</div>
                </div>
              </div>
              <div class="col-sm-4">
                <label for="geolong">Longitude</label>
                <input type="text" formControlName="geolong" class="form-control" [ngClass]="{ 'is-invalid': submitted && a.get('geolong').errors }" />
                <div *ngIf="submitted && a.get('geolong').errors" class="invalid-feedback">
                  <div *ngIf="a.get('geolong').errors.required">Longitude is required</div>
                </div>
              </div>
            </div>
          </div>
          <hr />
          <div class="row">
            <div class="col-md-6 col-sm-6" style="padding:10px">
              <button [disabled]="loading" class="btn btn-primary"
                      *ngIf="(hasUpdateAccess) || (hasAddAccess && customerId==null)">
                <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
                Submit
              </button>
              <a routerLink="/customerlist" class="btn btn-secondary" style="margin-left:10px;">Back</a>
            </div>
          </div>
          <!--<div class="row" *ngIf="isSave">
    <a routerLink="/contact/{{ type }}/{{ customerId }}" class="btn btn-link">Add Contact</a>
  </div>-->
          <!--<div class="row">
    <div class="table-responsive">
      <table class="table">
        <thead>
          <tr>
            <th>Regional Customer Name</th>
            <th>Region Name</th>
            <th>Address</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>
              Test
            </td>
            <td>
              Test
            </td>
            <td>
              Test
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>-->
        </form>
      </div>
    </div>
  </div>
</layout>
